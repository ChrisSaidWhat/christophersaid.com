<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="icon" type="image/x-icon" href="../personalMonogramLogo.svg">
		<style>
			form {
				width: 500px;
				margin-left: auto;
				margin-right: auto;
				background-color: beige;
				padding: 10px;
			}

			.flexContainer {
				display: flex;
				flex-direction: column;
				align-items: center;
			}

			.flexContainer input {
				width: 300px;
				margin-bottom: 10px;
			}

			form section div {
				margin-bottom: 10px;
			}
		</style>
		<script>
			function displayEmailAddress() {
				let enteredEmail = document.querySelector("#inEmail").value;

				if (enteredEmail == "") {
					document.querySelector("#dispFullEmail").innerHTML =
						"FIELD CANNOT BE BLANK!";
				} else if (
					enteredEmail.includes("@") == false ||
					(enteredEmail.endsWith(".com") == false &&
						enteredEmail.endsWith(".edu") == false &&
						enteredEmail.endsWith(".org") == false)
				) {
					document.querySelector("#dispFullEmail").innerHTML =
						"IMPROPER EMAIL FORMAT!";
				} else {
					document.querySelector("#dispFullEmail").innerHTML =
						enteredEmail;
				} //  decided that a valid email address must be either .com .edu or .org and contain @
			}

			function displayUsername() {
				let enteredEmail = document.querySelector("#inEmail").value;
				let atSymbolPosition = enteredEmail.indexOf("@");
				let username = enteredEmail.slice(0, atSymbolPosition);

				if (enteredEmail == "") {
					document.querySelector("#dispUsername").innerHTML =
						"FIELD CANNOT BE BLANK!";
				} else if (
					enteredEmail.includes("@") == false ||
					(enteredEmail.endsWith(".com") == false &&
						enteredEmail.endsWith(".edu") == false &&
						enteredEmail.endsWith(".org") == false)
				) {
					document.querySelector("#dispUsername").innerHTML =
						"IMPROPER EMAIL FORMAT!";
				} else {
					document.querySelector("#dispUsername").innerHTML = username;
				}
			}

			function displayDomain() {
				document.querySelector("#dispDomain").style.backgroundColor = ""; //  cleans up the previous entry's styling

				let enteredEmail = document.querySelector("#inEmail").value;
				let atSymbolPosition = enteredEmail.indexOf("@") + 1;
				let domain = enteredEmail.slice(atSymbolPosition);

				if (enteredEmail == "") {
					document.querySelector("#dispDomain").innerHTML =
						"FIELD CANNOT BE BLANK!";
				} else if (
					enteredEmail.includes("@") == false ||
					(enteredEmail.endsWith(".com") == false &&
						enteredEmail.endsWith(".edu") == false &&
						enteredEmail.endsWith(".org") == false)
				) {
					document.querySelector("#dispDomain").innerHTML =
						"IMPROPER EMAIL FORMAT!";
				} else {
					document.querySelector("#dispDomain").innerHTML = domain;

					if (domain.endsWith(".edu")) {
						document.querySelector("#dispDomain").style.backgroundColor =
							"lightblue";
					}
				}
			}

			function revertFields() {
				document.querySelector("#dispFullEmail").innerHTML = "";
				document.querySelector("#dispUsername").innerHTML = "";
				document.querySelector("#dispDomain").innerHTML = "";
				document.querySelector("#dispDomain").style.backgroundColor = "";
			}
		</script>
	</head>

	<body>
		<h1>WDV221 Intro JavaScript</h1>
		<h2>JavaScript Objects - String, Style and Date</h2>
		<h3>String Object Assignment</h3>
		<p>
			Use the form provided on this page to complete the requested
			functionality.
		</p>
		<form method="post" action="#">
			<p>
				<label for="inEmail">Enter an Email Address: </label>
				<input type="email" name="inEmail" id="inEmail" />
			</p>

			<p class="flexContainer">
				<input
					type="button"
					value="Display Email Address"
					onclick="displayEmailAddress()"
				/>
				<input
					type="button"
					value="Display the Username of the Email Address"
					onclick="displayUsername()"
				/>
				<input
					type="button"
					value="Display the Domain name of the Email Address"
					onclick="displayDomain()"
				/>
			</p>

			<section class="flexContainer">
				<div>Email Address: <span id="dispFullEmail"></span></div>
				<div>Username: <span id="dispUsername"></span></div>
				<div>Domain Name: <span id="dispDomain"></span></div>
			</section>

			<p style="text-align: center">
				<input
					type="reset"
					value="Enter New Email"
					onclick="revertFields()"
				/>
			</p>
		</form>

		<h3>Instructions:</h3>
		<ol>
			<li>
				Display Email Address button will display the email address entered
				in the form onto the page. The field cannot be blank and must be
				formatted as a valid email address.
			</li>
			<li>
				Display Username button will display the first part of the email
				address: Example student@dmacc.edu will display 'student'.
			</li>
			<li>
				Display Domain name button will display the domain name of the email
				address: Using the above example will display 'dmacc.edu'.
			</li>
			<li>
				If the email address has a top level domain of .edu change the
				Domain Name display to a light blue background.
			</li>
			<li>
				The "Enter New Email" button should return the form and the display
				fields to their original values.
			</li>
		</ol>
	</body>
</html>
