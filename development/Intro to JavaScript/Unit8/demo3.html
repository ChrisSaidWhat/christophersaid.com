<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Validation Example</title>

        <style>

            .errMsg {
                color: red; 
            }

        </style>

        <script>

            /*
                tdd test plan (determine the cases first, then code to the cases/test)
                    purpose/use case: 
                        input a number, whole number? negatives? etc.
                        display the quantity

                    input       expected result
                   
                    5           5
                    25          25
                    0           0   (assume you can have 0 inventory)
                    -1          CANNOT BE NEGATIVE (assume negative quantity is not available)
                    -5.5        CANNOT BE NEGATIVE 
                    5.5         ENTER A WHOLE NUMBER (only whole numbers)
                    3a          INVALID QUANTITY 
                    two         MUST ENTER A NUMBER
                    ""          MUST ENTER A NUMBER
                    null        MUST ENTER A NUMBER
                    *           MUST ENTER A NUMBER
            */

            //  when the user clicks the "Enter Quantity" button call a function
            //  function will pull the data from the input text field
            //  validate the input value
            //      if(valid data) then display the input data to console
            //      else display the error message

            /*
                algorithm - order of steps to solve a problem
                (a set of instructions to do something, directions to a location/goal)

                validData = true        assume input data is valid unless proven otherwise

                if input is negative{
                    display error message 
                    validData = false
                }

                if input has decimal{
                    display error message
                    validData = false
                }

                if input is not numeric{
                    display error message
                    validData = true
                }

                if input is valid{
                    display input to page 
                }

            */

            function validateQuantity() {

                document.querySelector("[class='errMsg']").innerHTML = "";

                let inQuantity = document.querySelector("#inQuantity").value;
                let validData = true;   //  assume input is VALID

                if(inQuantity < 0){
                    console.log("Cannot Be Negative")
                    document.querySelector("[class='errMsg']").innerHTML = "CANNOT BE NEGATIVE";
                    validData = false;
                }
                
                if(inQuantity.indexOf(".") >= 0) {
                    console.log("Enter a Whole Number");
                    document.querySelector("[class='errMsg']").innerHTML = "ENTER A WHOLE NUMBER";
                    validData = false;
                }
                if(validData) {
                    document.querySelector("[class='displayResult']").innerHTML = inQuantity;
                }
                else {
                    //  INVALID data - clear display content
                    document.querySelector("[class='displayResult']").innerHTML = "";
                }

            }

        </script>

    </head>

    <body>

        <h1>WDV 221 Intro JavaScript</h1>

        <h2>Unit 8 - Validation Example</h2>

        <form method="post" action="#">

            <p>

                <label for="inQuantity">Quantity:</label>
                <input type="text" name="inQuantity" id="inQuantity">
                <span class="errMsg"></span>

            </p>

            <p>

                <input type="button" value="Enter Quantity" onclick="validateQuantity()">
                <input type="reset">

            </p>

            <p>

                Result: <span class="displayResult"></span>

            </p>
           
        </form>
 
    </body>

</html>