<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Objects</title>
    <link rel="icon" type="image/x-icon" href="../personalMonogramLogo.svg">

    <script>

        //  part 1

        class MasterBook {

            //  properties
            bookAuthor;
            bookPrice;
            bookTitle;

            //  constructor
            constructor() {
                this.bookAuthor = "";
                this.bookPrice = 0;
                this.bookTitle = "";
            }

            //  getters and setters
            setBookAuthor(inAuthor) {
                this.bookAuthor = inAuthor;
            }

            getBookAuthor() {
                return this.bookAuthor;
            }

            setBookPrice(inPrice) {
                this.bookPrice = inPrice;
            }

            getBookPrice() {
                return this.bookPrice;
            }

            setBookTitle(inTitle) {
                this.bookTitle = inTitle;
            }

            getBookTitle() {
                return this.bookTitle;
            }

            //  processing functions
            studentDiscountPrice(inPrice) {
                let discount = inPrice * .2;
                let newPrice = inPrice - discount;
                let formattedStudentPrice = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(newPrice);    //  citation: taken from ChatGPT
                return formattedStudentPrice;
            }

            toString() {
                let string = "Author: " + this.getBookAuthor();
                string += ", ";
                string += "Title: " + this.getBookTitle();
                string += ", ";
                string += "Price: " + this.getBookPrice();
                return string;
            }

        }

        let bookTitles = ["Beginning Javascript", "Logic with ES6", "Javascript Ojbects Made Easy"];
        let bookPrices = [19.99, 29.49, 999.99];
        let bookAuthor = ["Smith", "Johson-Parker", "Westin"];

        function createBookObjects() {

            let book1 = new MasterBook();
            let book2 = new MasterBook();
            let book3 = new MasterBook();

            for (let i = 0; i < 3; i++) {
                if (i == 0) {
                    book1.setBookTitle(bookTitles[i]);
                    book1.setBookPrice(bookPrices[i]);
                    book1.setBookAuthor(bookAuthor[i]);
                }
                else if (i == 1) {
                    book2.setBookTitle(bookTitles[i]);
                    book2.setBookPrice(bookPrices[i]);
                    book2.setBookAuthor(bookAuthor[i]);
                }
                else if (i == 2) {
                    book3.setBookTitle(bookTitles[i]);
                    book3.setBookPrice(bookPrices[i]);
                    book3.setBookAuthor(bookAuthor[i]);
                }

            }

            let javascriptBooks = [book1, book2, book3];

            return javascriptBooks;
        }

        let javascriptBooks = createBookObjects();
        let book1 = javascriptBooks[0];
        let book2 = javascriptBooks[1];
        let book3 = javascriptBooks[2];

        console.log(javascriptBooks[0]);
        console.log(javascriptBooks[1]);
        console.log(javascriptBooks[2]);

        //  part 2

        function createBookObjectLiterals() {

            let bookA = {
                bookAuthor: "",
                bookPrice: 0,
                bookTitle: "",
                setBookAuthor: function (inAuthor) {
                    this.bookAuthor = inAuthor;
                },
                getBookAuthor() {
                    return this.bookAuthor;
                },
                setBookPrice: function (inPrice) {
                    this.bookPrice = inPrice;
                },
                getBookPrice() {
                    return this.bookPrice;
                },
                setBookTitle: function (inTitle) {
                    this.bookTitle = inTitle;
                },
                getBookTitle() {
                    return this.bookTitle;
                },
                studentDiscountPrice(inPrice) {
                    let discount = inPrice * .2;
                    let newPrice = inPrice - discount;
                    let formattedStudentPrice = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(newPrice);    //  citation: taken from ChatGPT
                    return formattedStudentPrice;
                },
                toString() {
                    let string = "Author: " + this.getBookAuthor();
                    string += ", ";
                    string += "Title: " + this.getBookTitle();
                    string += ", ";
                    string += "Price: " + this.getBookPrice();
                    return string;
                }
            }
            let bookB = {
                bookAuthor: "",
                bookPrice: 0,
                bookTitle: "",
                setBookAuthor: function (inAuthor) {
                    this.bookAuthor = inAuthor;
                },
                getBookAuthor() {
                    return this.bookAuthor;
                },
                setBookPrice: function (inPrice) {
                    this.bookPrice = inPrice;
                },
                getBookPrice() {
                    return this.bookPrice;
                },
                setBookTitle: function (inTitle) {
                    this.bookTitle = inTitle;
                },
                getBookTitle() {
                    return this.bookTitle;
                },
                studentDiscountPrice(inPrice) {
                    let discount = inPrice * .2;
                    let newPrice = inPrice - discount;
                    let formattedStudentPrice = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(newPrice);    //  citation: taken from ChatGPT
                    return formattedStudentPrice;
                },
                toString() {
                    let string = "Author: " + this.getBookAuthor();
                    string += ", ";
                    string += "Title: " + this.getBookTitle();
                    string += ", ";
                    string += "Price: " + this.getBookPrice();
                    return string;
                }
            }
            let bookC = {
                bookAuthor: "",
                bookPrice: 0,
                bookTitle: "",
                setBookAuthor: function (inAuthor) {
                    this.bookAuthor = inAuthor;
                },
                getBookAuthor() {
                    return this.bookAuthor;
                },
                setBookPrice: function (inPrice) {
                    this.bookPrice = inPrice;
                },
                getBookPrice() {
                    return this.bookPrice;
                },
                setBookTitle: function (inTitle) {
                    this.bookTitle = inTitle;
                },
                getBookTitle() {
                    return this.bookTitle;
                },
                studentDiscountPrice(inPrice) {
                    let discount = inPrice * .2;
                    let newPrice = inPrice - discount;
                    let formattedStudentPrice = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(newPrice);    //  citation: taken from ChatGPT
                    return formattedStudentPrice;
                },
                toString() {
                    let string = "Author: " + this.getBookAuthor();
                    string += ", ";
                    string += "Title: " + this.getBookTitle();
                    string += ", ";
                    string += "Price: " + this.getBookPrice();
                    return string;
                }
            }

            for (let i = 0; i < 3; i++) {
                if (i == 0) {
                    bookA.setBookTitle(bookTitles[i]);
                    bookA.setBookPrice(bookPrices[i]);
                    bookA.setBookAuthor(bookAuthor[i]);
                }
                else if (i == 1) {
                    bookB.setBookTitle(bookTitles[i]);
                    bookB.setBookPrice(bookPrices[i]);
                    bookB.setBookAuthor(bookAuthor[i]);
                }
                else if (i == 2) {
                    bookC.setBookTitle(bookTitles[i]);
                    bookC.setBookPrice(bookPrices[i]);
                    bookC.setBookAuthor(bookAuthor[i]);
                }

            }

            let newBooks = [bookA, bookB, bookC];

            return newBooks;
        }

        let newBooks = createBookObjectLiterals();
        let bookA = newBooks[0];
        let bookB = newBooks[1];
        let bookC = newBooks[2];

        console.log(bookA);
        console.log(bookB);
        console.log(bookC);

    </script>

</head>

<body>

    <h1>JavaScript Bookstore</h1>

    <h3>Method 1</h3>

    <p>

        <script>
            //  part 1
            for (let i = 0; i < javascriptBooks.length; i++) {
                document.write("<p>" + javascriptBooks[i].toString() + " Student Price: " + javascriptBooks[i].studentDiscountPrice(javascriptBooks[i].getBookPrice()) + "</p>");
            }

        </script>

    </p>

    <hr>

    <h3>Method 2</h3>

    <p>

        <script>
            //  part 2
            for (let i = 0; i < newBooks.length; i++) {
                document.write("<p>" + newBooks[i].toString() + " Student Price: " + newBooks[i].studentDiscountPrice(newBooks[i].getBookPrice()) + "</p>");
            }

        </script>

    </p>

</body>

</html>