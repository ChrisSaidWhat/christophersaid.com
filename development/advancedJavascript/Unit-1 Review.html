<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>WDV321 Advanced JavaScript</title>
    <link rel="icon" type="image/x-icon" href="../personalMonogramLogo.svg">
    <script>
        (function (d) {
            var config = {
                    kitId: 'dbm8rql',
                    scriptTimeout: 3000,
                    async: true
                },
                h = d.documentElement, t = setTimeout(function () {
                    h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
                }, config.scriptTimeout), tk = d.createElement("script"), f = false,
                s = d.getElementsByTagName("script")[0], a;
            h.className += " wf-loading";
            tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
            tk.async = true;
            tk.onload = tk.onreadystatechange = function () {
                a = this.readyState;
                if (f || a && a != "complete" && a != "loaded") return;
                f = true;
                clearTimeout(t);
                try {
                    Typekit.load(config)
                } catch (e) {
                }
            };
            s.parentNode.insertBefore(tk, s)
        })(document);
    </script>
    <style>
        body {
            background: rgb(114, 0, 38);
            background: radial-gradient(circle, rgba(114, 0, 38, 1) 0%, rgba(114, 0, 38, 1) 25%, rgba(99, 0, 27, 1) 61%, rgba(86, 0, 17, 1) 75%, rgba(79, 0, 11, 1) 100%);
        }

        #container {
            width: 80%;
            margin-left: auto;
            margin-right: auto;
            background-color: #720026b3;
            padding-left: 15px;
            padding-right: 15px;
            border: thin solid black;
        }

        #displayArea {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            padding: 15px;
        }

        #displayArea div {
            margin-right: 20px;
        }

        #instructionsBox {
            color: #FF9B54;
            font-family: "lores-12", sans-serif;
            font-weight: 400;
            font-style: normal;
            padding: 10px;
        }

        #instructionsBox p {
            font-family: "puffin-arcade-chrome", sans-serif;
            font-weight: 800;
            font-style: normal;
            font-size: 20px;
        }

        .displayGameLibrary {
            margin-top: 20px;
            padding: 5px;
            border: thin solid black;
            background-color: #CE4257;
        }

        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: "rixvideogame-pro", sans-serif;
            font-weight: 400;
            font-style: normal;
            color: #FF7F51;
        }

        h1 {
            font-size: 3rem;
        }

        h2 {
            font-size: 2.25rem;
        }

        h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
        }

        .displayGameLibrary h3 {
            text-decoration: underline;
            text-underline-offset: 10px;
        }

        h4 {
            font-size: 1.75rem;
        }

        h5 {
            font-size: 1.5rem;
            margin-top: 0px;
            margin-bottom: 10px;
        }

        li {
            font-family: "lores-12", sans-serif;
            font-weight: 400;
            font-style: normal;
            font-size: 1rem;
            color: #FF9B54;
        }

        li::marker {
            list-style: square;
            list-style-type: square;
            color: #FF9B54;
        }

        form {
            color: #FF9B54;
            font-family: "lores-12", sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        input {
            font-family: "lores-12", sans-serif;
            font-weight: 400;
            font-style: normal;
            accent-color: #CE4257;
        }

        select {
            font-family: "lores-12", sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        legend {
            font-size: large;
        }

        fieldset {
            border-style: solid;
            border-color: black;
            border-width: thin;
        }

        footer p {
            text-align: center;
            color: #FF9B54;
            font-family: "lores-12", sans-serif;
            font-weight: 400;
            font-style: normal;
            margin-top: 60px;
        }
    </style>

    <script>

        //1. Use the following parallel arrays to dynamically populate the select element
        const gameTypes = ["board", "video", "tabletop", "rpg"];
        const gameTypeAbb = ['b', 'v', 't', 'r'];

        //2. Use the following array to dynamically create a set of radio buttons
        const gameDifficulty = ["Easy", "Moderate", "Difficult", "Hard"];
        const gameDifficultyID = ["diff1", "diff2", "diff3", "diff4"];

        //3. Use the following array to dynamically create a set of checkboxes
        const gameOptions = ["Good for Kids", "Multiplayer", "Fast Play", "Long Game", "Solitaire"];
        const gameOptionsID = ["opt1", "opt2", "opt3", "opt4", "opt5"];

        let game = {
            gameName: "",
            gameType: "",
            numPlayers: "",
            diffRating: "",
            goodForKids: "",
            multiplayer: "",
            fastPlay: "",
            longGame: "",
            solitaire: ""
        }

        let gameLibrary = [];

        let gameLibraryActual = {
            games: gameLibrary
        }

        function displayCopyrightYear() {
            let date = new Date();
            let currentYear = date.getFullYear();

            document.querySelector(".copyrightYear").innerHTML = currentYear;
        }

        function pageSetup() {
            displayCopyrightYear();

            //  add game btn functionality
            document.querySelector("#addGameBtn").onclick = function () {
                let statusFlag = true;

                //  validate game name
                let gameNameContent = document.querySelector("#gameName").value;
                if (gameNameContent.length > 50 || gameNameContent == "") {
                    document.querySelector(".errMsgGN").innerHTML = "INVALID INPUT!";
                    statusFlag = false;
                } else {
                    document.querySelector(".errMsgGN").innerHTML = "";
                }

                //  validate game type
                let gameTypeContent = document.querySelector("#gameType").value;
                if (gameTypeContent == "") {
                    document.querySelector(".errMsgGT").innerHTML = "INVALID INPUT!";
                    statusFlag = false;
                } else {
                    document.querySelector(".errMsgGT").innerHTML = "";
                }

                //  validate game players
                let numPlayers = document.querySelector("#gamePlayers").value;
                parseInt(numPlayers);

                if (isNaN(numPlayers)) {
                    document.querySelector(".errMsgGP").innerHTML = "INVALID INPUT!";
                    statusFlag = false;
                } else if (numPlayers < 1 || numPlayers > 20) {
                    document.querySelector(".errMsgGP").innerHTML = "INVALID INPUT!";
                    statusFlag = false;
                } else if (!Number.isInteger(parseFloat(numPlayers))) {
                    document.querySelector(".errMsgGP").innerHTML = "INVALID INPUT!";
                    statusFlag = false;
                } else {
                    document.querySelector(".errMsgGP").innerHTML = "";
                }

                //  validate game difficulty
                let difficultyRadioEasy = document.querySelector("#diff1").checked;
                let difficultyRadioModerate = document.querySelector("#diff2").checked;
                let difficultyRadioDifficult = document.querySelector("#diff3").checked;
                let difficultyRadioHard = document.querySelector("#diff4").checked;

                if (difficultyRadioEasy === false && difficultyRadioModerate === false && difficultyRadioDifficult === false && difficultyRadioHard === false) {
                    document.querySelector(".errMsgGD").innerHTML = "INVALID INPUT!";
                    statusFlag = false;
                } else {
                    document.querySelector(".errMsgGD").innerHTML = "";
                }

                //  validate game options
                let fastPlayCheckbox = document.querySelector("#opt3").checked;
                let longGameCheckbox = document.querySelector("#opt4").checked;

                if (fastPlayCheckbox === true && longGameCheckbox === true) {
                    document.querySelector(".errMsgGO").innerHTML = "INVALID INPUT!";
                    statusFlag = false;
                } else {
                    document.querySelector(".errMsgGO").innerHTML = "";
                }

                //  load data into game object and add game object to game library array
                console.log(statusFlag);
                if (statusFlag === true) {
                    console.log("Loading game object");
                    let gameData = Object.create(game);
                    gameData.gameName = document.querySelector("#gameName").value;
                    gameData.gameType = document.querySelector("#gameType").value;
                    gameData.numPlayers = document.querySelector("#gamePlayers").value;
                    if (document.querySelector("#diff1").checked) {
                        gameData.diffRating = document.querySelector("#diff1").value;
                    } else if (document.querySelector("#diff2").checked) {
                        gameData.diffRating = document.querySelector("#diff2").value;
                    } else if (document.querySelector("#diff3").checked) {
                        gameData.diffRating = document.querySelector("#diff3").value;
                    } else {
                        gameData.diffRating = document.querySelector("#diff4").value;
                    }
                    gameData.goodForKids = document.querySelector("#opt1").checked;
                    gameData.multiplayer = document.querySelector("#opt2").checked;
                    gameData.fastPlay = document.querySelector("#opt3").checked;
                    gameData.longGame = document.querySelector("#opt4").checked;
                    gameData.solitaire = document.querySelector("#opt5").checked;

                    console.log(gameData);

                    gameLibrary.push(gameData);

                    console.log(gameLibrary);
                }

            }

            //  add new game btn functionality
            document.querySelector("#newGameBtn").onclick = function () {
                document.querySelector(".errMsgGN").innerHTML = "";
                document.querySelector(".errMsgGT").innerHTML = "";
                document.querySelector(".errMsgGP").innerHTML = "";
                document.querySelector(".errMsgGD").innerHTML = "";
                document.querySelector(".errMsgGO").innerHTML = "";
            }

            //  display game library btn functionality
            document.querySelector("#dispLibBtn").onclick = function () {

                document.querySelector("#displayArea").innerHTML = "";

                for (let i = 0; i < gameLibraryActual.games.length; i++) {

                    let divContainer = document.createElement('div');

                    let gameName = document.createElement('h5');
                    let gameNameText = document.createTextNode(gameLibraryActual.games[i].gameName);
                    gameName.appendChild(gameNameText);
                    divContainer.appendChild(gameName);

                    let gameType = document.createElement('li');
                    let gameTypeText = document.createTextNode("type: " + gameLibraryActual.games[i].gameType);
                    gameType.appendChild(gameTypeText);
                    divContainer.appendChild(gameType);

                    let numPlayers = document.createElement('li');
                    let numPlayersText = document.createTextNode("players: " + gameLibraryActual.games[i].numPlayers);
                    numPlayers.appendChild(numPlayersText);
                    divContainer.appendChild(numPlayers);

                    let diffRating = document.createElement('li');
                    let diffRatingText = document.createTextNode("difficulty: " + gameLibraryActual.games[i].diffRating.toLowerCase());
                    diffRating.appendChild(diffRatingText);
                    divContainer.appendChild(diffRating);

                    let goodForKids = document.createElement('li');
                    let goodForKidsText = document.createTextNode("good for kids: " + gameLibraryActual.games[i].goodForKids);
                    goodForKids.appendChild(goodForKidsText);
                    divContainer.appendChild(goodForKids);

                    let multiplayer = document.createElement('li');
                    let multiplayerText = document.createTextNode("multiplayer: " + gameLibraryActual.games[i].multiplayer);
                    multiplayer.appendChild(multiplayerText);
                    divContainer.appendChild(multiplayer);

                    let fastPlay = document.createElement('li');
                    let fastPlayText = document.createTextNode("fast game: " + gameLibraryActual.games[i].fastPlay);
                    fastPlay.appendChild(fastPlayText);
                    divContainer.appendChild(fastPlay);

                    let longGame = document.createElement('li');
                    let longGameText = document.createTextNode("long game: " + gameLibraryActual.games[i].longGame);
                    longGame.appendChild(longGameText);
                    divContainer.appendChild(longGame);

                    let solitaire = document.createElement('li');
                    let solitaireText = document.createTextNode("solitaire: " + gameLibraryActual.games[i].solitaire);
                    solitaire.appendChild(solitaireText);
                    divContainer.appendChild(solitaire);

                    document.querySelector("#displayArea").appendChild(divContainer);
                }
            }

            //  add start over btn functionality
            document.querySelector("#startOverBtn").onclick = function () {
                //  clear display
                document.querySelector(".errMsgGN").innerHTML = "";
                document.querySelector(".errMsgGT").innerHTML = "";
                document.querySelector(".errMsgGP").innerHTML = "";
                document.querySelector(".errMsgGD").innerHTML = "";
                document.querySelector(".errMsgGO").innerHTML = "";

                document.querySelector("#displayArea").innerHTML = "";

                //  clear data
                gameLibrary.length = 0;
            }

        }

    </script>
</head>

<body onload="pageSetup();">
<div id="container">
    <header>
        <h1>WDV321 Advanced JavaScript</h1>
    </header>
    <main>
        <h2>Unit-1 JavaScript Review Project</h2>
        <form action="#" method="">
            <fieldset>
                <legend>Game Input</legend>
                <p>
                    <label for="gameName">Game Name:</label>
                    <input id="gameName" name="gameName" placeholder="Game Name" type="text">
                    <span class="errMsgGN"></span>
                </p>
                <p>
                    <label for="gameType">Game Type:</label>
                    <select id="gameType" name="gameType">
                        <option value="">Select a Game Type</option>
                        <script>

                            for (let i = 0; i < gameTypes.length; i++) {
                                document.write("<option value='" + gameTypeAbb[i] + "'>" + gameTypes[i] + "</option>");
                            }

                        </script>
                    </select>
                    <span class="errMsgGT"></span>
                </p>
                <p>
                    <label for="gamePlayers">Number of Players:</label>
                    <input id="gamePlayers" name="gamePlayers" type="text">
                    <span class="errMsgGP"></span>
                </p>
                <p>
                    Difficulty Rating:
                    <script>

                        for (let i = 0; i < gameDifficulty.length; i++) {
                            document.write("<input type='radio' name='difficulty' id='" + gameDifficultyID[i] + "' value='" + gameDifficulty[i] + "'>");
                            document.write("<label for='" + gameDifficultyID[i] + "'>" + gameDifficulty[i] + "</label>");
                        }

                    </script>
                    <span class="errMsgGD"></span>
                </p>
                <p>
                    Game Options:
                    <script>

                        for (let i = 0; i < gameOptions.length; i++) {
                            document.write("<input type='checkbox' id='" + gameOptionsID[i] + "' name='" + gameOptionsID[i] + "' value='" + gameOptions[i] + "'>");
                            document.write("<label for='" + gameOptionsID[i] + "'>" + gameOptions[i] + "</label>");
                        }

                    </script>
                    <span class="errMsgGO"></span>
                </p>

                <p>
                    <input id="addGameBtn" type="button" value="Add Game to Library">
                    <input id="newGameBtn" type="reset" value="New Game">
                    <input id="dispLibBtn" type="button" value="Display Game Library">
                </p>
                <p>
                    <input id="startOverBtn" type="reset" value="Start Over">
                </p>
            </fieldset>
        </form>

        <section class="displayGameLibrary">
            <h3>Game Library</h3>
            <div id="displayArea">

            </div>
        </section>

        <div id="instructionsBox">
            <h3>Instructions:</h3>
            <p>
                Dynamic Content:
            <ol>
                <li>✔︎Use the provided arrays to dynamically populate the Game Type. Include the abbreviations as
                    value attributes.
                </li>
                <li>✔︎Use the provided array to dynamically create a set of radio buttons for Difficulty Rating.
                </li>
                <li>✔︎Use the provided array to dynamically create a set of checkboxes for Game Options.</li>
                <li>✔︎Dynamically load the Copyright year in the footer so that is always the current year.</li>
            </ol>
            </p>
            <p>
                Data Validation:
            <ol>
                <li>✔︎Game Name - cannot be blank, max 50 characters</li>
                <li>✔︎Game Type - one must be selected</li>
                <li>✔︎Number of Players - must be numeric, 1+, max of 20, whole number</li>
                <li>✔︎Difficulty Rating - one must be selected</li>
                <li>✔︎Game Options: Some, none or all may be selected</li>
                <li>✔︎Game Options: "Fast Play" and "Long Game" cannot both be selected</li>
            </ol>
            </p>
            <p>
                Data Storage:
            <ol>
                <li>✔︎Create an object called game for storing the game information. Use a class or object literal.
                </li>
                <li>✔︎The game object must allow for any/all selected content.</li>
                <li>✔︎Create an object called gameLibrary. It will store an array of game objects.</li>
            </ol>
            </p>
            <p>
                Form Processing:
            <ol>
                <li>✔︎When the form is submitted by the "Add Game to Library" AND all fields pass validations gather
                    the form data.
                </li>
                <li>✔︎Load the game data into a game object</li>
                <li>✔︎Display the game object in the console</li>
                <li>✔︎Add the game object to the gameLibrary</li>
                <li>✔︎Display the gameLibrary in the console</li>
                <li>✔︎"New Game" button should clear the form entries</li>
                <li>✔︎"Start Over" button should clear the form, the display and the data.</li>
            </ol>
            </p>
            <p>
                Display Game Library:
            <ol>
                <li>✔︎When the "Display Game Library" button is clicked display each game in the game library in the
                    Game Library Area.
                </li>
                <li>✔︎Design your own layout and styling for to display the games.</li>
            </ol>
            </p>
        </div>
    </main>
    <footer>
        <p>&copy;Copyright <span class="copyrightYear"></span> DMACC All rights reserved.</p>
    </footer>
</div>
</body>

</html>